## 내부 클래스

내부 클래스(inner class)는 말 그대로 '클래스 내부에 선언한 클래스'이다. 내부에 선언하는 이유는 대개 이 클래스와 외부 클래스가 밀접한 관련이 있어서이다.
또한 그 밖의 다른 클래스와 협력할 일이 없는 경우에 내부 클래스로 선언해서 사용한다.

```java
class Out {
    class In {
    }
}
```

내부 클래스의 선언은 위와 같이 클래스 안에 클래스를 선언하는 것이다. 내부 클래스는 선언하는 위치나 예약어에 따라 네 가지 유형이 있다.

- 인스턴스 내부 클래스
- 정적 내부 클래스
- 지역 내부 클래스
- 익명 클래스

```java
class ABC {                   // 외부 클래스
    class In {                // 인스턴스 내부 클래스
        static class SIn      // 정적 내부 클래스
    }
    
    public void abc() {
        class Local {}        // 지역 내부 클래스
    }
}
```

### 인스턴스 내부 클래스

인스턴스 내부 클래스(instance inner class)는 인스턴스 변수를 선언할 때와 같은 위치에 선언하며, 외부 클래스 내부에서만 생성하여 사용하는 객체를 선언할 때 쓴다. 예를 들어 어떤 클래스 내에
여러 변수가 있고 이들 변수 중 일부를 모아 클래스로 표현하는 것이다. 이 클래스를 다른 외부 클래스에서 사용할 일이 없는 경우 내부 인스턴스 클래스로 정의하낟.
인스턴스 내부 클래스는 외부 클래스 생성 후 생성된다. 따라서 외부 클래스를 먼저 생성하지 않고 인스턴스 내부 클래스를 사용할 수 없다.

```java
class OutClass {
    private int num = 10;
    private static int sNum = 20;
    
    private InClass inClass;
    
    public OutClass() {
        inClass = new InClass();
    }
    
    class InClass {
        int inNum = 100;
        // static int sInNum = 200;
        
        void inTest() {
            System.out.prinln(num);
            System.out.prinln(sNum);
        }
        
        // static void sTest() // 정적 메서드 정의 불가
        
        public void usingClass() {
            inClass.inTest();
        }
    }
}

public class InnerTest {
    public static void main(String[] args) {
        OutClass outClass = new OutClass();
        outClass.usingClass(); // 외부 클래스에서 내부 클래스 기능 호출
    }
}
```

외부 클래스에서 선언한 변수들은 private지만 내부 클래스도 다 접근 가능하다. 내부 클래스에서 정적 변수와 메서드는 선언할 수 없다.
즉 인스턴스 내부 클래스는 외부 클래스가 먼저 생성되어야 사용할 수 있고 인스턴스 내부 클래스의 메서드는 외부 클래스의 메서드가 호출될 때 사용할 수 있다.
내부 클래스를 생성하는 이유는 그 클래스를 감싸고 있는 외부 클래스에서만 사용하기 위해서이다. 그렇지만 다른 클래스에서 private이 아닌 내부 클래스를 생성하는 것이 가능은 하다.

```java
OutClass outClass = new OutClass();
OutClass.InClass inClass = outClass.new InClass();
```

### 정적 내부 클래스

인스턴스 내부 클래스는 외부 클래스가 먼저 생성되어야 생성할 수 있기에 정적 변수와 메서드는 사용할 수 없다. 그런데 내부 클래스가 외부 클래스 생성과 무관하게 사용할 수 있어야 하고
정적 변수도 사용할 수 있어야 한다면 정적 내부 클래스(static inner class)를 사용하면 된다. 정적 내부 클래스는 인스턴스 내부 클래스처럼 외부 클래스의 멤버 변수와 같은 위치에 정의하며
static 예약어를 함께 사용한다.

```java
class OutClass {
    private int num = 10;
    private static int sNum = 20;
    
    static class InStaticClass {
        int inNum = 100;
        static int sInNum = 200;
    }
    
    void inTest() {
        // num += 10; // 외부 클래스의 인스턴스 변수는 사용할 수 없음.
        System.out.println(inNum);
        System.out.println(sInNum);
        System.out.println(sNum);
    }
    
    static void sTest() {
        // num += 10;
        // inNum += 10; // 외부 클래스와 내부 클래스의 인스턴스 변수는 사용할 수 없음
        System.out.println(sNum);
        System.out.println(sInNum);
    }
}

public class InnerTest {
    public static void main(String[] argS) {
        OutClass.InStaticClass sInClass = new OutClass.InStaticClass();
        sInClass.inTest();
        OutClass.InStaticClass.sTest();
    }
}
```

### 지역 내부 클래스

지역 내부 클래스는 
