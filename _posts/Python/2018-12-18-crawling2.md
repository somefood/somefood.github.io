---
layout: post
title: requests 써보기
category: Python
tags: [python, crawling]
comments: true
---

단순 GET 요청해보기
```python
import requests
response = requests.get('http://news.naver.com/main/home.nhn')
```

헤더에 커스텀 내용을 추가하고 싶을 시에는 dic형 변수를 만들어 입력해주는게 편하다.
```python
request_headers ={
    'User-Agent' : ('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 '
                  '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'),
    'Referer': 'http://news.naver.com/main/home.nhn', # 뉴스홈
}
```

requests의 기본 User-Agent는 'python-requests/버전'이런 식인데, 이것을 통해 응답을 거부할 수 있기에 fake User-Agent값을 설정해 주면 좋다.
fake_useragent모듈에서 UserAgent클래스를 추가한다.

```python
from fake_useragent import UserAgent
ua = UserAgent()
ua.ie
```

ua.ie는 User-Agent 값을 출력하는데, 실행시킬 때마다 다른 값이 표시된다.
